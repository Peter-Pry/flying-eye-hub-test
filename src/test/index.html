<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link href="http://cesiumjs.org/Cesium/Build/Cesium/Widgets/widgets.css" rel="stylesheet" />
    <link href="http://cesiumjs.org/Cesium/Apps/Sandcastle/templates/bucket.css" rel="stylesheet" />
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.121/Build/Cesium/Cesium.js"></script>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.121/Build/Cesium/Widgets/widgets.css" rel="stylesheet"> -->
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.121/Build/Cesium/Cesium.js"></script>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.121/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    <style>
        #toolbar {
            z-index: 1;
        }
    </style>
</head>

<body>
    <div id="cesiumContainer" class="fullSize">
        <div>
            <div id="loadingOverlay">
                <h1>Loading...</h1>
            </div>
            <div id="toolbar">
                <label>Camera FoV: <input id="cameraFoV" readonly type="number" min="15" max="165" value="60" /></label>
                <button type="button" class="cesium-button" id="toggleBtn">Toggle Random FoV</button>
            </div>
        </div>

    </div>
    <!-- <script src="http://cesiumjs.org/Cesium/Build/Cesium/cesium.js"></script> -->
    <script type="module">
        // Your access token can be found at: https://ion.cesium.com/tokens.
        // This is the default access token from your ion account

        Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIwMDBlNGRjYy1kNzQ3LTQxNDUtYmU0Mi05Y2FmMWIwNWI4NWUiLCJpZCI6MjQzNDM4LCJpYXQiOjE3MjcwODc2NjF9.kY7ZKkYssmYJvjTnrfER2s68vGRzWcx-6yc5HYHWRwY';

        //Set the random seed for reproducible random Angles.
        Cesium.Math.setRandomNumberSeed(1234);

        var viewer = new Cesium.Viewer('cesiumContainer');
        var camera = viewer.camera;
        var hertz = 1.5; //1500 milliseconds
        var interval;

        function randomFoV() {
            // for sanity keep bewteen 15 and 165
            var angle = Math.floor(Cesium.Math.nextRandomNumber() * 151) + 15;

            camera.frustum.fov = Cesium.Math.toRadians(angle);
            document.getElementById("cameraFoV").value = angle;
        }

        document.getElementById("toggleBtn").onclick = function () {
            if (interval) {
                interval = clearInterval(interval);

            } else {
                interval = setInterval(randomFoV, hertz * 1000);

            }

        };
    </script>
</body>

</html>